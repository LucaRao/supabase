import Layout from '~/layouts/DefaultGuideLayout'

export const meta = {
  id: 'auth-email',
  title: '使用电子邮件登录',
  description: '使用Supabase通过电子邮件对用户进行身份验证和授权。',
}

## 概述

为Supabase应用程序设置电子邮件登录。

- 将电子邮件验证器添加到[Supabase项目](https://app.supabase.com)
- 将登录代码添加到应用程序 - [JavaScript](https://github.com/supabase/supabase-js) | [Flutter](https://github.com/supabase/supabase-flutter)

## 配置电子邮件设置

1. 对于 [网站 URL](https://app.supabase.com/project/_/auth/url-configuration), 输入应用程序的最终（托管）URL。
1. 对于 [身份验证提供程序](https://app.supabase.com/project/_/auth/providers), **启用电子邮件提供程序**.

<Admonition type="info" label="Self hosting">

对于自托管，可以使用提供的文件和环境变量更新项目配置。
有关详细信息，请参阅[self-hosting docs](/docs/guides/hosting/overview#configuration)。

</Admonition>

## 将登录代码添加到客户端应用程序

<Tabs
  scrollable
  size="small"
  type="underlined"
  defaultActiveId="js"
>
<TabPanel id="js" label="JavaScript">

当用户登录时，使用其电子邮件地址和密码调用[signInWithPassword()](/docs/reference/javascript/auth-signinwithpassword)：

```js
async function signInWithEmail() {
  const { data, error } = await supabase.auth.signInWithPassword({
    email: 'example@email.com',
    password: 'example-password',
  })
}
```

</TabPanel>
<TabPanel id="dart" label="Dart">

当用户登录时，使用其电子邮件地址和密码调用[signInWithPassword()](/docs/reference/javascript/auth-signinwithpassword)：

```dart
Future<void> signInWithEmail() async {
  final AuthResponse res = await supabase.auth.signInWithPassword(
    email: 'example@email.com',
    password: 'example-password'
  );
}
```

</TabPanel>
</Tabs>

<Tabs
  scrollable
  size="small"
  type="underlined"
  defaultActiveId="js"
>
<TabPanel id="js" label="JavaScript">

当用户注销时，调用[signOut()](/docs/reference/javascript/auth-signOut)将其从浏览器会话和localStorage中删除：

```js
async function signOut() {
  const { error } = await supabase.auth.signOut()
}
```

</TabPanel>
<TabPanel id="dart" label="Dart">

当用户注销时，调用[signOut()](/docs/reference/javascript/auth-signOut)将其从浏览器会话和localStorage中删除：

```dart
Future<void> signOut() async {
   await supabase.auth.signOut();
}
```

</TabPanel>
</Tabs>

## 资料

- [Supabase账户-免费层](https://supabase.com)
- [Supabase JS客户端](https://github.com/supabase/supabase-js)
- [Supabase Flutter客户端](https://github.com/supabase/supabase-flutter)

export const Page = ({ children }) => <Layout meta={meta} children={children} />

export default Page
